import{e as k,z as N,r as V,o as r,A as C,w as T,b as e,a as c,n as $,d as f,c as v,B as L,x as z,j as Y,q as I,k as B,s as w,f as F,t as x,u as s,F as y,g as M,l as E,C as G,D as J,E as q,h as A,m as K,G as Q,H as X}from"./index-8s_xUr8i.js";import{a as j}from"./axios-B4uVmeYG.js";import{u as O}from"./spaceStore-CrpHaAmk.js";import{_ as Z}from"./PageBanner-BxF67tl0.js";import"./statusStore-C3eq9W_1.js";var ee={VITE_DATA_URL:"https://json-server-vercel-cw-space.vercel.app",VITE_PATH:"cw-space-vue",BASE_URL:"/CW-space-vue/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const te=e("span",{class:"fs-6 text-danger text-end mb-2 d-block"},"請填寫表單，將會有專人聯繫您",-1),se=e("dt",{class:"form-title"},[e("label",{for:"name"},[f("姓名"),e("span",{class:"text-danger ms-2"},"*")])],-1),oe={class:"form-info"},le=e("dt",{class:"form-title"},[e("label",{for:"company"},[f("公司名稱"),e("span",{class:"text-danger ms-2"},"*")])],-1),ne={class:"form-info"},ae=e("dt",{class:"form-title"},[e("label",{for:"phone"},[f("聯絡電話"),e("span",{class:"text-danger ms-2"},"*")])],-1),ie={class:"form-info"},ce=e("dt",{class:"form-title"},[e("label",{for:"email"},[f("電子信箱"),e("span",{class:"text-danger ms-2"},"*")])],-1),de={class:"form-info"},re=e("dt",{class:"form-title"},[e("label",{for:"space"},[f("想要參觀哪個空間"),e("span",{class:"text-danger ms-2"},"*")])],-1),me={class:"form-info"},ue=e("option",{value:"",selected:"",disabled:""},"請選擇您要參觀的空間",-1),pe=e("option",{value:"共享辦公空間"},"共享辦公空間",-1),_e=e("option",{value:"獨立辦公空間"},"獨立辦公空間",-1),ve=e("option",{value:"會議室空間"},"會議室空間",-1),fe=e("dt",{class:"form-title"},[e("label",{for:"date"},[f("參觀日期"),e("span",{class:"text-danger ms-2"},"*")])],-1),he={class:"form-info"},be={class:"row"},$e={class:"col-lg-6"},ke={class:"col-lg-6 my-2 my-lg-0"},ye=e("option",{value:"",selected:"",disabled:""},"請選擇預約時段",-1),ge=e("option",{value:"09:00"},"09:00",-1),Ve=e("option",{value:"10:00"},"10:00",-1),xe=e("option",{value:"11:00"},"11:00",-1),Se=e("option",{value:"12:00"},"12:00",-1),Te=e("option",{value:"13:00"},"13:00",-1),we=e("option",{value:"14:00"},"14:00",-1),De=e("option",{value:"15:00"},"15:00",-1),Re={class:"btn-block"},Ue=["disabled"],Ce={key:1},Pe=e("h2",{class:"text-center"},"預約成功！",-1),Ee={class:"text-center mt-5"},Fe={__name:"ReserveVisit",setup(S){const{VITE_DATA_URL:m}=ee,i=k(!1),a=k(null),n=k({name:"",company:"",phone:"",email:"",space:"",appointment:null,time:""});N("isPhone",d=>/^(09)[0-9]{8}$/.test(d)||"需要正確的電話號碼");const _=async()=>{a.value=L(a.value).unix();const d={name:n.value.name,company:n.value.company,phone:n.value.phone,email:n.value.email,space:n.value.space,appointment:a.value,time:n.value.time};console.log(d);try{await j.post(`${m}/visit`,d),i.value=!0}catch(o){console.log(o)}};return(d,o)=>{const p=V("VField"),l=V("ErrorMessage"),g=V("DatePicker"),u=V("router-link"),b=V("VForm");return i.value?(r(),v("div",Ce,[Pe,e("div",Ee,[c(u,{to:"/",class:"button primary"},{default:T(()=>[f("回首頁")]),_:1})])])):(r(),C(b,{key:0,class:"visit-reservation form-list",onSubmit:_},{default:T(({errors:t,meta:D})=>[te,e("dl",null,[se,e("dd",oe,[c(p,{id:"name",type:"text",class:$(["form-control",{"is-invalid":t.name}]),name:"name",modelValue:n.value.name,"onUpdate:modelValue":o[0]||(o[0]=h=>n.value.name=h),placeholder:"請輸入姓名",rules:"required"},null,8,["class","modelValue"]),c(l,{class:"invalid-feedback",name:"name"})])]),e("dl",null,[le,e("dd",ne,[c(p,{id:"company",type:"text",class:$(["form-control",{"is-invalid":t.company}]),name:"company",modelValue:n.value.company,"onUpdate:modelValue":o[1]||(o[1]=h=>n.value.company=h),placeholder:"請輸入公司名稱",rules:"required"},null,8,["class","modelValue"]),c(l,{class:"invalid-feedback",name:"company"})])]),e("dl",null,[ae,e("dd",ie,[c(p,{id:"phone",type:"tel",class:$(["form-control",{"is-invalid":t.phone}]),name:"phone",modelValue:n.value.phone,"onUpdate:modelValue":o[2]||(o[2]=h=>n.value.phone=h),placeholder:"請輸入聯絡電話",rules:"isPhone|required"},null,8,["class","modelValue"]),c(l,{class:"invalid-feedback",name:"phone"})])]),e("dl",null,[ce,e("dd",de,[c(p,{id:"email",type:"email",class:$(["form-control",{"is-invalid":t.email}]),name:"email",modelValue:n.value.email,"onUpdate:modelValue":o[3]||(o[3]=h=>n.value.email=h),placeholder:"請輸入電子信箱",rules:"email|required"},null,8,["class","modelValue"]),c(l,{class:"invalid-feedback",name:"email"})])]),e("dl",null,[re,e("dd",me,[c(p,{id:"space",class:$(["form-select",{"is-invalid":t.space}]),name:"space",modelValue:n.value.space,"onUpdate:modelValue":o[4]||(o[4]=h=>n.value.space=h),as:"select",rules:"required"},{default:T(()=>[ue,pe,_e,ve]),_:2},1032,["class","modelValue"]),c(l,{class:"invalid-feedback",name:"space"})])]),e("dl",null,[fe,e("dd",he,[e("div",be,[e("div",$e,[c(g,{class:"date-picker w-100",value:a.value,"onUpdate:value":o[5]||(o[5]=h=>a.value=h),format:"YYYY-MM-DD",type:"date",placeholder:"請選擇日期","disabled-week-days":[6,0]},null,8,["value"])]),e("div",ke,[c(p,{id:"time",name:"time",class:$(["visit-time form-select w-100",{"is-invalid":t.time}]),modelValue:n.value.time,"onUpdate:modelValue":o[6]||(o[6]=h=>n.value.time=h),as:"select",rules:"required"},{default:T(()=>[ye,ge,Ve,xe,Se,Te,we,De]),_:2},1032,["class","modelValue"]),c(l,{class:"invalid-feedback",name:"time"})])])])]),e("div",Re,[c(u,{to:"/",class:"button secondary",title:"回首頁"},{default:T(()=>[f("回首頁")]),_:1}),e("button",{type:"button",class:"button primary",title:"送出",onClick:_,disabled:!D.valid},"送出",8,Ue)])]),_:1}))}}};var Me={VITE_DATA_URL:"https://json-server-vercel-cw-space.vercel.app",VITE_PATH:"cw-space-vue",BASE_URL:"/CW-space-vue/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const P=z("ReserveStore",()=>{const S=Y(),{VITE_DATA_URL:m}=Me,i=k(!1),a=k(0),n=k(0),_=k(""),d=k(!1),o=k(!1),p=I(()=>_.value?`您目前選擇的是：${_.value}`:"尚未選擇，請點選列表選項");B(()=>_.value,()=>{d.value=!0});const l=k({appointment:null,company:"",name:"",phone:"",email:"",plan:"",space:"",kind:"",time:""});B(()=>[l.value.plan,l.value.appointment,l.value.time,l.value.kind],([R,U,W,H])=>{R!==""&&U!==""&&W!==""&&H!==""&&(o.value=!0)});const g=()=>{a.value===3||!d.value||(a.value+=1)},u=()=>{a.value!==0&&(a.value-=1)},b=()=>{S.go(-1)},t=()=>{l.value.plan===""||l.value.appointment===""||l.value.time===""||l.value.kind===""||(a.value+=1)},D=I(()=>L(l.value.appointment).unix()),h=(R,U)=>Math.floor(Math.random()*(R-U+1)+U);return{isProcessing:i,step:a,picked:_,isPicked:d,isFilledIn:o,random:n,pickedSpace:p,reserveData:l,unixDate:D,checkedForm:t,nextStep:g,backStep:u,goBackPage:b,randomFn:h,submitReveres:async()=>{const R={appointment:l.value.appointment,company:l.value.company,name:l.value.name,phone:l.value.phone,email:l.value.email,plan:l.value.plan,space:_.value,kind:l.value.kind,time:l.value.time};n.value=h(12,0);try{await j.post(`${m}/reserves`,R),R.value={appointment:null,company:"",name:"",phone:"",email:"",plan:"",space:"",kind:"",time:""},g()}catch(U){console.log(U)}},scrollToTop:()=>{window.scrollTo({top:480,left:0,behavior:"smooth"})}}}),qe=e("dt",null,[e("span",null,[f("想要預約哪個空間"),e("span",{class:"text-danger ms-2"},"*")])],-1),Ae={class:"text-end text-secondary fs-6 fw-bold mt-2"},Ie={class:"choice-space"},Be=["id","value","onClick"],Ne=["for"],Le={class:"left"},Ye={class:"space-img"},je=["src","alt"],Oe={class:"right"},We={class:"name"},He={class:"bg-text"},ze={class:"btn-block"},Ge={__name:"FirstStep",setup(S){const m=O(),{spacePlan:i}=w(m),{getSpaceList:a,changeSpaceId:n}=m,_=P(),{picked:d,isPicked:o,pickedSpace:p}=w(_),{goBackPage:l,nextStep:g}=_;return F(()=>{a()}),(u,b)=>(r(),v(y,null,[e("fieldset",null,[e("dl",null,[qe,e("dd",Ae,[e("span",Ie,x(s(p)),1)])]),(r(!0),v(y,null,M(s(i),t=>(r(),v("dl",{class:"option",key:t.id},[E(e("input",{type:"radio",name:"space",id:t.id,value:t.name,"onUpdate:modelValue":b[0]||(b[0]=D=>J(d)?d.value=D:null),onClick:D=>s(n)(t.id)},null,8,Be),[[G,s(d)]]),e("label",{for:t.id},[e("dd",null,[e("div",Le,[e("div",Ye,[e("img",{src:t.imgUrl[0],alt:t.name},null,8,je)])]),e("div",Oe,[e("div",We,x(t.name),1)]),e("div",He,x(t.enName),1)])],8,Ne)]))),128))]),e("div",ze,[e("button",{type:"button",onClick:b[1]||(b[1]=(...t)=>s(l)&&s(l)(...t)),class:"button",title:"前一頁"},"前一頁"),e("button",{type:"button",class:$(["button primary",{disabled:!s(o)}]),title:"下一步",onClick:b[2]||(b[2]=(...t)=>s(g)&&s(g)(...t))},"下一步",2)])],64))}},Je={class:"row align-items-center"},Ke=e("dt",{class:"form-title col-md-2"},[e("label",null," 目前選擇 ")],-1),Qe={class:"form-info col-md-10 mb-0"},Xe={class:"row align-items-center"},Ze=e("dt",{class:"form-title col-md-2"},[e("label",{for:"reserve-plan"},[f("預約方案"),e("span",{class:"text-danger ms-2"},"*")])],-1),et={class:"form-info col-md-10 mb-0"},tt=e("option",{value:"",selected:"",disabled:""},"請選擇",-1),st=e("option",{value:"day"},"日租",-1),ot=e("option",{value:"month"},"月租",-1),lt={key:1,value:"month"},nt={key:2,value:"day"},at={class:"row align-items-center"},it=e("dt",{class:"form-title col-md-2"},[e("label",{for:"date-picker"},[f("預約日期"),e("span",{class:"text-danger ms-2"},"*")])],-1),ct={class:"form-info col-md-10 mb-0"},dt={class:"row align-items-center"},rt=e("dt",{class:"form-title col-md-2"},[e("label",{for:"time"},[f("預約時段"),e("span",{class:"text-danger ms-2"},"*")])],-1),mt={class:"form-info col-md-10 mb-0"},ut=e("option",{disabled:"",value:""},"請選擇時段",-1),pt=e("option",{value:"08:00-18:00"},"08:00-18:00",-1),_t=K('<option disabled value="">請選擇時段</option><option value="09:00-11:00">09:00-11:00</option><option value="11:00-13:00">11:00-13:00</option><option value="13:00-15:00">13:00-15:00</option><option value="15:00-17:00">15:00-17:00</option>',5),vt={class:"row align-items-center"},ft={class:"form-title col-md-2"},ht={for:"seat"},bt={key:0},$t={key:1},kt=e("span",{class:"text-danger ms-2"},"*",-1),yt={class:"form-info col-md-10 mb-0"},gt=e("option",{disabled:"",value:""},"請選擇",-1),Vt=["value"],xt={class:"btn-block"},St={__name:"SecondStep",setup(S){const m=P(),{picked:i,reserveData:a,isFilledIn:n}=w(m),{backStep:_,checkedForm:d}=m,{scrollToTop:o}=m,p=O(),{pickedType:l}=w(p);return F(()=>{o()}),(g,u)=>{const b=V("DatePicker");return r(),v(y,null,[e("fieldset",null,[e("dl",Je,[Ke,e("dd",Qe,x(s(i)),1)]),e("dl",Xe,[Ze,e("dd",et,[E(e("select",{name:"reserve-plan","onUpdate:modelValue":u[0]||(u[0]=t=>s(a).plan=t),id:"reserve-plan"},[tt,s(i)==="共享辦公空間"?(r(),v(y,{key:0},[st,ot],64)):A("",!0),s(i)==="獨立辦公空間"?(r(),v("option",lt,"月租")):A("",!0),s(i)==="會議室空間"?(r(),v("option",nt,"小時")):A("",!0)],512),[[q,s(a).plan]])])]),e("dl",at,[it,e("dd",ct,[c(b,{id:"date-picker",class:"date-picker",format:"YYYY-MM-DD",type:"date","value-type":"timestamp",value:s(a).appointment,"onUpdate:value":u[1]||(u[1]=t=>s(a).appointment=t),placeholder:"請選擇日期"},null,8,["value"])])]),e("dl",dt,[rt,e("dd",mt,[E(e("select",{name:"time",id:"time","onUpdate:modelValue":u[2]||(u[2]=t=>s(a).time=t)},[s(i)!=="會議室空間"?(r(),v(y,{key:0},[ut,pt],64)):(r(),v(y,{key:1},[_t],64))],512),[[q,s(a).time]])])]),e("dl",vt,[e("dt",ft,[e("label",ht,[s(i)==="共享辦公空間"?(r(),v("span",bt,"座位選擇")):(r(),v("span",$t,"空間選擇")),kt])]),e("dd",yt,[E(e("select",{name:"seat",id:"seat","onUpdate:modelValue":u[3]||(u[3]=t=>s(a).kind=t)},[gt,(r(!0),v(y,null,M(s(l),t=>(r(),v("option",{key:t,value:t.sort},x(t.sort),9,Vt))),128))],512),[[q,s(a).kind]])])])]),e("div",xt,[e("button",{type:"button",onClick:u[4]||(u[4]=(...t)=>s(_)&&s(_)(...t)),class:"button",title:"上一步"},"上一步"),e("button",{type:"button",class:$(["button primary",{disabled:!s(n)}]),title:"下一步",onClick:u[5]||(u[5]=(...t)=>s(d)&&s(d)(...t))},"下一步",2)])],64)}}},Tt={class:"row align-items-center"},wt=e("dt",{class:"form-title col-md-2"},[e("label",{for:"name"},[f("姓名"),e("span",{class:"text-danger ms-2"},"*")])],-1),Dt={class:"form-info col-md-10 mb-0"},Rt={class:"row align-items-center"},Ut=e("dt",{class:"form-title col-md-2"},[e("label",{for:"company"},[f("公司名稱"),e("span",{class:"text-danger ms-2"},"*")])],-1),Ct={class:"form-info col-md-10 mb-0"},Pt={class:"row align-items-center"},Et=e("dt",{class:"form-title col-md-2"},[e("label",{for:"phone"},[f("聯絡電話"),e("span",{class:"text-danger ms-2"},"*")])],-1),Ft={class:"form-info col-md-10 mb-0"},Mt={class:"row align-items-center"},qt=e("dt",{class:"form-title col-md-2"},[e("label",{for:"email"},[f("電子信箱"),e("span",{class:"text-danger ms-2"},"*")])],-1),At={class:"form-info col-md-10 mb-0"},It={class:"btn-block"},Bt=["disabled"],Nt={__name:"ThirdStep",setup(S){const m=P(),{reserveData:i}=w(m),{backStep:a,submitReveres:n}=m,{scrollToTop:_}=m;return N("isPhone",d=>/^(09)[0-9]{8}$/.test(d)||"需要正確的電話號碼"),F(()=>{_()}),(d,o)=>{const p=V("VField"),l=V("ErrorMessage"),g=V("VForm");return r(),C(g,{class:"reserve-list form-list",onSubmit:s(n)},{default:T(({errors:u,meta:b})=>[e("dl",Tt,[wt,e("dd",Dt,[c(p,{id:"name",type:"text",class:$(["form-control",{"is-invalid":u.name}]),name:"name",modelValue:s(i).name,"onUpdate:modelValue":o[0]||(o[0]=t=>s(i).name=t),placeholder:"請輸入姓名",rules:"required"},null,8,["class","modelValue"]),c(l,{class:"invalid-feedback",name:"name"})])]),e("dl",Rt,[Ut,e("dd",Ct,[c(p,{id:"company",type:"text",class:$(["form-control",{"is-invalid":u.company}]),name:"company",modelValue:s(i).company,"onUpdate:modelValue":o[1]||(o[1]=t=>s(i).company=t),placeholder:"請輸入公司名稱",rules:"required"},null,8,["class","modelValue"]),c(l,{class:"invalid-feedback",name:"company"})])]),e("dl",Pt,[Et,e("dd",Ft,[c(p,{id:"phone",type:"phone",class:$(["form-control",{"is-invalid":u.phone}]),name:"phone",modelValue:s(i).phone,"onUpdate:modelValue":o[2]||(o[2]=t=>s(i).phone=t),placeholder:"請輸入聯絡電話",rules:"isPhone|required"},null,8,["class","modelValue"]),c(l,{class:"invalid-feedback",name:"phone"})])]),e("dl",Mt,[qt,e("dd",At,[c(p,{id:"email",type:"email",class:$(["form-control",{"is-invalid":u.email}]),name:"email",modelValue:s(i).email,"onUpdate:modelValue":o[3]||(o[3]=t=>s(i).email=t),placeholder:"請輸入電子信箱",rules:"email|required"},null,8,["class","modelValue"]),c(l,{class:"invalid-feedback",name:"email"})])]),e("div",It,[e("button",{type:"button",onClick:o[4]||(o[4]=(...t)=>s(a)&&s(a)(...t)),class:"button",title:"上一步"},"上一步"),e("button",{type:"button",class:$(["button primary",{disabled:!b.valid}]),title:"送出",onClick:o[5]||(o[5]=(...t)=>s(n)&&s(n)(...t)),disabled:!b.valid},"送出",10,Bt)])]),_:1},8,["onSubmit"])}}},Lt={class:"reserve-list service-finish"},Yt=e("h2",null,"預約成功",-1),jt={class:"text-danger fw-bold"},Ot=e("p",null,"請確認您的電子郵件，牢記您的訂單編號。",-1),Wt=e("p",null,[f("請您於"),e("span",{class:"text-danger fw-bold"},"7個工作天"),f("內匯款，收到款項後，完成預約")],-1),Ht=e("p",null,"匯款資訊 013國泰世華 1234-5678-4321-0018",-1),zt=e("p",null,"匯款後，請您來電告知帳戶後末四碼，以及訂單資料，才算完成預約手續。",-1),Gt=e("h6",{class:"mt-4 text-danger fw-bold text-center"},"五秒後，將自動跳轉回預約頁",-1),Jt={class:"btn-block"},Kt={__name:"FourthStep",setup(S){const m=Y(),i=P(),{unixDate:a,random:n,step:_}=w(i),{scrollToTop:d}=i;return setTimeout(()=>{_.value=0,m.go(0)},5e3),F(()=>{d()}),(o,p)=>{const l=V("router-link");return r(),v(y,null,[e("div",Lt,[Yt,e("p",null,[f("訂單編號 "),e("span",jt,"CW"+x(s(a))+"-"+x(s(n)),1)]),Ot,Wt,Ht,zt]),Gt,e("div",Jt,[c(l,{to:"/",class:"button primary",title:"回首頁"},{default:T(()=>[f("回首頁")]),_:1})])],64)}}},Qt={class:"reserve-step"},Xt={class:"circle"},Zt={class:"text"},es={class:"reserve-list"},ts={__name:"ReserveSpace",setup(S){const m=P(),{step:i}=w(m),a=["選擇空間","選擇時段/座位","填寫資料","預約完成"],n=Q([{name:"first",component:Ge},{name:"second",component:St},{name:"third",component:Nt},{name:"fourth",component:Kt}]),_=I(()=>n.value[i.value]);return(d,o)=>(r(),v(y,null,[e("ul",Qt,[(r(),v(y,null,M(a,(p,l)=>e("li",{class:$(["step",{active:l===s(i)}]),key:p},[e("div",Xt,x(l+1),1),e("div",Zt,x(p),1)],2)),64))]),e("div",es,[(r(),C(X(_.value.component)))])],64))}},ss="/CW-space-vue/assets/visit-banner-Bj85rV6T.jpg",os={class:"container block mt-5"},ls={class:"space-tabs"},ns=["onClick"],ps={__name:"ReservePage",setup(S){const m=k(0),i=k(["預約參觀","預約空間"]),a=n=>{m.value=n};return(n,_)=>(r(),v(y,null,[c(Z,{"images-url":s(ss),"page-title":i.value[m.value]},null,8,["images-url","page-title"]),e("div",os,[e("div",ls,[(r(!0),v(y,null,M(i.value,(d,o)=>(r(),v("div",{key:d,class:$(["space-tab-item",{active:o===m.value}]),onClick:p=>a(o)},x(d),11,ns))),128))]),m.value===0?(r(),C(Fe,{key:0})):(r(),C(ts,{key:1}))])],64))}};export{ps as default};
