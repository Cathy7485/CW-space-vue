import{j as d,e as p,o as u,c as m,b as e,l as n,I as l}from"./index-OfzIyyzp.js";import{a as _}from"./axios-B4uVmeYG.js";var f={VITE_DATA_URL:"https://json-server-vercel-cw-space.vercel.app",VITE_PATH:"cw-space-vue",BASE_URL:"/CW-space-vue/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const v={class:"login-bg"},h={class:"login-block"},b=e("h2",null,"管理者登入",-1),w={class:"form-floating mb-3"},g=e("label",{for:"inputUsername"},"Email address",-1),T={class:"form-floating"},k=e("label",{for:"inputPassword"},"Password",-1),V={__name:"LoginAdmin",setup(E){const{VITE_DATA_URL:r}=f,i=d(),s=p({email:"",password:""}),c=async()=>{const t=`${r}/login`;try{await _.post(t,s.value).then(o=>{console.log(o);const a=o.data.accessToken;document.cookie=`spaceToken=${a};max-age=3600;`,i.push("/dashboard")})}catch{console.error("帳號或密碼錯誤")}};return(t,o)=>(u(),m("div",v,[e("div",h,[b,e("div",w,[n(e("input",{type:"email",class:"form-control",id:"inputUsername",placeholder:"name@example.com",required:"",autofocus:"","onUpdate:modelValue":o[0]||(o[0]=a=>s.value.email=a)},null,512),[[l,s.value.email]]),g]),e("div",T,[n(e("input",{type:"password",class:"form-control",id:"inputPassword",placeholder:"Password",required:"","onUpdate:modelValue":o[1]||(o[1]=a=>s.value.password=a)},null,512),[[l,s.value.password]]),k]),e("button",{type:"button",class:"btn btn-lg btn-primary",onClick:c}," 登入 ")])]))}};export{V as default};
