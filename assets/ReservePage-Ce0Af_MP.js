import{e as h,z as Y,r as f,o as l,A as M,w as x,b as e,a as o,n as _,d as i,c as n,B as j,j as G,s as J,f as K,F as v,g as S,t as $,l as C,C as Q,u as P,h as V,D as L,E as X,m as Z}from"./index-BAkg6DrP.js";import{a as O}from"./axios-B4uVmeYG.js";import{u as ee}from"./spaceStore-CByiNbRK.js";import{_ as se}from"./PageBanner-CAy6vzb8.js";var te={VITE_DATA_URL:"https://json-server-vercel-cw-space.vercel.app",VITE_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"cw-space-vue",BASE_URL:"/CW-space-vue/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const oe=e("span",{class:"fs-6 text-danger text-end mb-2 d-block"},"請填寫表單，將會有專人聯繫您",-1),le=e("dt",{class:"form-title"},[e("label",{for:"name"},[i("姓名"),e("span",{class:"text-danger ms-2"},"*")])],-1),ae={class:"form-info"},ne=e("dt",{class:"form-title"},[e("label",{for:"company"},[i("公司名稱"),e("span",{class:"text-danger ms-2"},"*")])],-1),ie={class:"form-info"},ce=e("dt",{class:"form-title"},[e("label",{for:"phone"},[i("聯絡電話"),e("span",{class:"text-danger ms-2"},"*")])],-1),de={class:"form-info"},re=e("dt",{class:"form-title"},[e("label",{for:"email"},[i("電子信箱"),e("span",{class:"text-danger ms-2"},"*")])],-1),me={class:"form-info"},ue=e("dt",{class:"form-title"},[e("label",{for:"space"},[i("想要參觀哪個空間"),e("span",{class:"text-danger ms-2"},"*")])],-1),_e={class:"form-info"},pe=e("option",{value:"",selected:"",disabled:""},"請選擇您要參觀的空間",-1),ve=e("option",{value:"共享辦公空間"},"共享辦公空間",-1),he=e("option",{value:"獨立辦公空間"},"獨立辦公空間",-1),fe=e("option",{value:"會議室空間"},"會議室空間",-1),be=e("dt",{class:"form-title"},[e("label",{for:"date"},[i("參觀日期"),e("span",{class:"text-danger ms-2"},"*")])],-1),ye={class:"form-info"},ke={class:"row"},ge={class:"col-lg-6"},Ve={class:"col-lg-6 my-2 my-lg-0"},$e=e("option",{value:"",selected:"",disabled:""},"請選擇預約時段",-1),xe=e("option",{value:"09:00"},"09:00",-1),De=e("option",{value:"10:00"},"10:00",-1),Ue=e("option",{value:"11:00"},"11:00",-1),we=e("option",{value:"12:00"},"12:00",-1),Te=e("option",{value:"13:00"},"13:00",-1),Ee=e("option",{value:"14:00"},"14:00",-1),Re=e("option",{value:"15:00"},"15:00",-1),Ce={class:"btn-block"},Se=["disabled"],Pe={key:1},Me=e("h2",{class:"text-center"},"預約成功！",-1),Ae={class:"text-center mt-5"},Ie={__name:"ReserveVisit",setup(q){const{VITE_DATA_URL:y}=te,k=h(!1),m=h(null),s=h({name:"",company:"",phone:"",email:"",space:"",appointment:null,time:""});Y("isPhone",p=>/^(09)[0-9]{8}$/.test(p)||"需要正確的電話號碼");const w=async()=>{m.value=j(m.value).unix();const p={name:s.value.name,company:s.value.company,phone:s.value.phone,email:s.value.email,space:s.value.space,appointment:m.value,time:s.value.time};console.log(p);try{await O.post(`${y}/visit`,p),k.value=!0}catch(a){console.log(a)}};return(p,a)=>{const b=f("VField"),g=f("ErrorMessage"),A=f("DatePicker"),u=f("router-link"),I=f("VForm");return k.value?(l(),n("div",Pe,[Me,e("div",Ae,[o(u,{to:"/",class:"button primary"},{default:x(()=>[i("回首頁")]),_:1})])])):(l(),M(I,{key:0,class:"visit-reservation form-list",onSubmit:w},{default:x(({errors:d,meta:T})=>[oe,e("dl",null,[le,e("dd",ae,[o(b,{id:"name",type:"text",class:_(["form-control",{"is-invalid":d.name}]),name:"name",modelValue:s.value.name,"onUpdate:modelValue":a[0]||(a[0]=r=>s.value.name=r),placeholder:"請輸入姓名",rules:"required"},null,8,["class","modelValue"]),o(g,{class:"invalid-feedback",name:"name"})])]),e("dl",null,[ne,e("dd",ie,[o(b,{id:"company",type:"text",class:_(["form-control",{"is-invalid":d.company}]),name:"company",modelValue:s.value.company,"onUpdate:modelValue":a[1]||(a[1]=r=>s.value.company=r),placeholder:"請輸入公司名稱",rules:"required"},null,8,["class","modelValue"]),o(g,{class:"invalid-feedback",name:"company"})])]),e("dl",null,[ce,e("dd",de,[o(b,{id:"phone",type:"tel",class:_(["form-control",{"is-invalid":d.phone}]),name:"phone",modelValue:s.value.phone,"onUpdate:modelValue":a[2]||(a[2]=r=>s.value.phone=r),placeholder:"請輸入聯絡電話",rules:"isPhone|required"},null,8,["class","modelValue"]),o(g,{class:"invalid-feedback",name:"phone"})])]),e("dl",null,[re,e("dd",me,[o(b,{id:"email",type:"email",class:_(["form-control",{"is-invalid":d.email}]),name:"email",modelValue:s.value.email,"onUpdate:modelValue":a[3]||(a[3]=r=>s.value.email=r),placeholder:"請輸入電子信箱",rules:"email|required"},null,8,["class","modelValue"]),o(g,{class:"invalid-feedback",name:"email"})])]),e("dl",null,[ue,e("dd",_e,[o(b,{id:"space",class:_(["form-select",{"is-invalid":d.space}]),name:"space",modelValue:s.value.space,"onUpdate:modelValue":a[4]||(a[4]=r=>s.value.space=r),as:"select",rules:"required"},{default:x(()=>[pe,ve,he,fe]),_:2},1032,["class","modelValue"]),o(g,{class:"invalid-feedback",name:"space"})])]),e("dl",null,[be,e("dd",ye,[e("div",ke,[e("div",ge,[o(A,{class:"date-picker w-100",value:m.value,"onUpdate:value":a[5]||(a[5]=r=>m.value=r),format:"YYYY-MM-DD",type:"date",placeholder:"請選擇日期"},null,8,["value"])]),e("div",Ve,[o(b,{id:"time",name:"time",class:_(["visit-time form-select w-100",{"is-invalid":d.time}]),modelValue:s.value.time,"onUpdate:modelValue":a[6]||(a[6]=r=>s.value.time=r),as:"select",rules:"required"},{default:x(()=>[$e,xe,De,Ue,we,Te,Ee,Re]),_:2},1032,["class","modelValue"]),o(g,{class:"invalid-feedback",name:"time"})])])])]),e("div",Ce,[o(u,{to:"/",class:"button secondary",title:"回首頁"},{default:x(()=>[i("回首頁")]),_:1}),e("button",{type:"button",class:"button primary",title:"送出",onClick:w,disabled:!T.valid},"送出",8,Se)])]),_:1}))}}};var Ne={VITE_DATA_URL:"https://json-server-vercel-cw-space.vercel.app",VITE_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"cw-space-vue",BASE_URL:"/CW-space-vue/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const qe={class:"reserve-step"},Be={class:"circle"},Fe={class:"text"},Le={key:0,class:"reserve-list"},Ye=e("dt",null,[e("span",{class:""},[i("想要預約哪個空間"),e("span",{class:"text-danger ms-2"},"*")])],-1),je={class:"text-end text-secondary fs-6 fw-bold mt-2"},Oe={class:"choice-space"},We=["id","value","onClick"],ze=["for"],He={class:"left"},Ge={class:"space-img"},Je=["src","alt"],Ke={class:"right"},Qe={class:"name"},Xe={class:"bg-text"},Ze={class:"btn-block"},es={key:1},ss={class:"reserve-list form-list"},ts={class:"row align-items-center"},os=e("dt",{class:"form-title col-md-2"},[e("label",null," 目前選擇 ")],-1),ls={class:"form-info col-md-10 mb-0"},as={class:"row align-items-center"},ns=e("dt",{class:"form-title col-md-2"},[e("label",{for:"user-name"},[i("預約方案"),e("span",{class:"text-danger ms-2"},"*")])],-1),is={class:"form-info col-md-10 mb-0"},cs=e("option",{value:"",selected:"",disabled:""},"請選擇",-1),ds=e("option",{value:"day"},"日租",-1),rs=e("option",{value:"month"},"月租",-1),ms={key:1,value:"month"},us={key:2,value:"day"},_s={class:"row align-items-center"},ps=e("dt",{class:"form-title col-md-2"},[e("label",{for:"user-name"},[i("預約日期"),e("span",{class:"text-danger ms-2"},"*")])],-1),vs={class:"form-info col-md-10 mb-0"},hs={class:"row align-items-center"},fs=e("dt",{class:"form-title col-md-2"},[e("label",{for:"user-name"},"預約時段")],-1),bs={class:"form-info col-md-10 mb-0"},ys=e("option",{disabled:"",value:""},"請選擇時段",-1),ks=e("option",{value:"08:00-18:00"},"08:00-18:00",-1),gs=Z('<option disabled value="">請選擇時段</option><option value="09:00-11:00">09:00-11:00</option><option value="11:00-13:00">11:00-13:00</option><option value="13:00-15:00">13:00-15:00</option><option value="15:00-17:00">15:00-17:00</option>',5),Vs={class:"row align-items-center"},$s={class:"form-title col-md-2"},xs={for:"seat"},Ds={key:0},Us={key:1},ws=e("span",{class:"text-danger ms-2"},"*",-1),Ts={class:"form-info col-md-10 mb-0"},Es={name:"seat",id:"seat"},Rs=["value"],Cs={class:"row align-items-center"},Ss=e("dt",{class:"form-title col-md-2"},[e("label",{for:"name"},[i("姓名"),e("span",{class:"text-danger ms-2"},"*")])],-1),Ps={class:"form-info col-md-10 mb-0"},Ms={class:"row align-items-center"},As=e("dt",{class:"form-title col-md-2"},[e("label",{for:"name"},[i("公司名稱"),e("span",{class:"text-danger ms-2"},"*")])],-1),Is={class:"form-info col-md-10 mb-0"},Ns={class:"row align-items-center"},qs=e("dt",{class:"form-title col-md-2"},[e("label",{for:"phone"},[i("聯絡電話"),e("span",{class:"text-danger ms-2"},"*")])],-1),Bs={class:"form-info col-md-10 mb-0"},Fs={class:"row align-items-center"},Ls=e("dt",{class:"form-title col-md-2"},[e("label",{for:"email"},[i("電子信箱"),e("span",{class:"text-danger ms-2"},"*")])],-1),Ys={class:"form-info col-md-10 mb-0"},js={class:"btn-block"},Os=["disabled"],Ws={key:1},zs=e("div",{class:"reserve-list service-finish"},[e("h2",null,"預約成功"),e("p",null,[i("訂單編號 "),e("span",{class:"text-danger fw-bold"},"1010-5965-4435")]),e("p",null,"請確認您的電子郵件，牢記您的訂單編號。"),e("p",null,[i("請您於"),e("span",{class:"text-danger fw-bold"},"7個工作天"),i("內匯款，收到款項後，完成預約")]),e("p",null,"匯款資訊 013國泰世華 1234-5678-4321-0018"),e("p",null,"匯款後，請您來電告知帳戶後末四碼，及訂單資料")],-1),Hs={class:"btn-block"},Gs={__name:"ReserveSpace",setup(q){const{VITE_DATA_URL:y}=Ne,k=h(!1),m=h(null),s=h({appointment:null,company:"",name:"",phone:"",email:"",plan:"",space:"",time:""});Y("isPhone",E=>/^(09)[0-9]{8}$/.test(E)||"需要正確的電話號碼");const w=G(),p=ee(),{spacePlan:a,pickedType:b}=J(p),{getSpaceList:g,changeSpaceId:A}=p,u=h(1),I=["選擇空間","選擇時段/座位","填寫資料","預約完成"],d=h("共享辦公空間"),T=()=>{u.value!==4&&(u.value+=1)},r=()=>{u.value!==1&&(u.value-=1)},W=()=>{w.go(-1)},B=async()=>{m.value=j(m.value).unix();const E={appointment:m.value,company:s.value.company,name:s.value.name,phone:s.value.phone,email:s.value.email,plan:s.value.plan,space:d.value,time:s.value.time};console.log(E);try{await O.post(`${y}/reserves`,E),k.value=!0,T()}catch(c){console.log(c)}};return K(()=>{g()}),(E,c)=>{const F=f("router-link"),z=f("DatePicker"),N=f("VField"),R=f("ErrorMessage"),H=f("VForm");return l(),n(v,null,[e("ul",qe,[(l(),n(v,null,S(I,(t,D)=>e("li",{class:_(["step",{active:D+1===u.value}]),key:t},[e("div",Be,$(D+1),1),e("div",Fe,$(t),1)],2)),64))]),u.value===1?(l(),n("div",Le,[e("fieldset",null,[e("dl",null,[Ye,e("dd",je,[e("span",Oe,"您目前選擇的是："+$(d.value),1)])]),(l(!0),n(v,null,S(P(a),t=>(l(),n("dl",{class:"option",key:t.id},[C(e("input",{type:"radio",name:"space",id:t.id,value:t.name,"onUpdate:modelValue":c[0]||(c[0]=D=>d.value=D),onClick:D=>P(A)(t.id)},null,8,We),[[Q,d.value]]),e("label",{for:t.id},[e("dd",null,[e("div",He,[e("div",Ge,[e("img",{src:t.imgUrl[0],alt:t.name},null,8,Je)])]),e("div",Ke,[e("div",Qe,$(t.name),1)]),e("div",Xe,$(t.enName),1)])],8,ze)]))),128))]),e("div",Ze,[o(F,{to:"/",onClick:W,class:"button",title:"回首頁"},{default:x(()=>[i("回首頁")]),_:1}),e("button",{type:"button",onClick:T,class:"button primary",title:"下一步"},"下一步")])])):V("",!0),u.value===2?(l(),n("div",es,[e("div",ss,[e("fieldset",null,[e("dl",ts,[os,e("dd",ls,$(d.value),1)]),e("dl",as,[ns,e("dd",is,[C(e("select",{name:"reserve-plan","onUpdate:modelValue":c[1]||(c[1]=t=>s.value.plan=t),id:"reserve-plan"},[cs,d.value==="共享辦公空間"?(l(),n(v,{key:0},[ds,rs],64)):V("",!0),d.value==="獨立辦公空間"?(l(),n("option",ms,"月租")):V("",!0),d.value==="會議室空間"?(l(),n("option",us,"小時")):V("",!0)],512),[[L,s.value.plan]])])]),e("dl",_s,[ps,e("dd",vs,[o(z,{class:"date-picker",format:"YYYY-MM-DD",type:"date","value-type":"timestamp",value:m.value,"onUpdate:value":c[2]||(c[2]=t=>m.value=t),placeholder:"請選擇日期"},null,8,["value"])])]),e("dl",hs,[fs,e("dd",bs,[C(e("select",{name:"time",id:"time","onUpdate:modelValue":c[3]||(c[3]=t=>s.value.time=t)},[d.value!=="會議室空間"?(l(),n(v,{key:0},[ys,ks],64)):(l(),n(v,{key:1},[gs],64))],512),[[L,s.value.time]])])]),e("dl",Vs,[e("dt",$s,[e("label",xs,[d.value==="共享辦公空間"?(l(),n("span",Ds,"座位選擇")):(l(),n("span",Us,"空間選擇")),ws])]),e("dd",Ts,[e("select",Es,[(l(!0),n(v,null,S(P(b),t=>(l(),n("option",{key:t,value:t.sort},$(t.sort),9,Rs))),128))])])])])]),e("div",{class:"btn-block"},[e("button",{type:"button",onClick:r,class:"button",title:"回上一步"},"回上一步"),e("button",{type:"button",onClick:T,class:"button primary",title:"下一步"},"下一步")])])):V("",!0),e("div",null,[u.value===3?(l(),n(v,{key:0},[k.value?V("",!0):(l(),M(H,{key:0,class:"reserve-list form-list",onSubmit:B},{default:x(({errors:t,meta:D})=>[e("dl",Cs,[Ss,e("dd",Ps,[o(N,{id:"name",type:"text",class:_(["form-control",{"is-invalid":t.name}]),name:"name",modelValue:s.value.name,"onUpdate:modelValue":c[4]||(c[4]=U=>s.value.name=U),placeholder:"請輸入姓名",rules:"required"},null,8,["class","modelValue"]),o(R,{class:"invalid-feedback",name:"name"})])]),e("dl",Ms,[As,e("dd",Is,[o(N,{id:"company",type:"text",class:_(["form-control",{"is-invalid":t.company}]),name:"company",modelValue:s.value.company,"onUpdate:modelValue":c[5]||(c[5]=U=>s.value.company=U),placeholder:"請輸入公司名稱",rules:"required"},null,8,["class","modelValue"]),o(R,{class:"invalid-feedback",name:"company"})])]),e("dl",Ns,[qs,e("dd",Bs,[o(N,{id:"phone",type:"phone",class:_(["form-control",{"is-invalid":t.phone}]),name:"phone",modelValue:s.value.phone,"onUpdate:modelValue":c[6]||(c[6]=U=>s.value.phone=U),placeholder:"請輸入聯絡電話",rules:"isPhone|required"},null,8,["class","modelValue"]),o(R,{class:"invalid-feedback",name:"phone"})])]),e("dl",Fs,[Ls,e("dd",Ys,[C(e("input",{id:"email",type:"email",class:_(["form-control",{"is-invalid":t.email}]),name:"email","onUpdate:modelValue":c[7]||(c[7]=U=>s.value.email=U),placeholder:"請輸入電子信箱",rules:"email|required"},null,2),[[X,s.value.email]]),o(R,{class:"invalid-feedback",name:"email"})])]),e("div",js,[e("button",{type:"button",onClick:r,class:"button",title:"回上一步"},"回上一步"),e("button",{type:"button",class:"button primary",title:"送出",onClick:B,disabled:!D.valid},"送出",8,Os)])]),_:1}))],64)):V("",!0),u.value===4?(l(),n("div",Ws,[zs,e("div",Hs,[o(F,{to:"/",class:"button primary",title:"回首頁"},{default:x(()=>[i("回首頁")]),_:1})])])):V("",!0)])],64)}}},Js="/CW-space-vue/assets/visit-banner-Bj85rV6T.jpg",Ks={class:"container block mt-5"},Qs={class:"space-tabs"},Xs=["onClick"],ot={__name:"ReservePage",setup(q){const y=h(0),k=h(["預約參觀","預約空間"]),m=s=>{y.value=s};return(s,w)=>(l(),n(v,null,[o(se,{"images-url":P(Js),"page-title":k.value[y.value]},null,8,["images-url","page-title"]),e("div",Ks,[e("div",Qs,[(l(!0),n(v,null,S(k.value,(p,a)=>(l(),n("div",{key:p,class:_(["space-tab-item",{active:a===y.value}]),onClick:b=>m(a)},$(p),11,Xs))),128))]),y.value===0?(l(),M(Ie,{key:0})):(l(),M(Gs,{key:1}))])],64))}};export{ot as default};
