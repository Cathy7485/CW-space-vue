import{e as k,A as B,r as V,o as m,p as P,w,b as e,a as d,n as $,d as h,c as f,B as N,x as H,j as L,y as q,k as I,s as D,f as z,t as x,u as t,F as y,g as F,l as E,C as G,D as J,E as M,h as A,m as K,G as Q,H as X}from"./index-DcnfuQSY.js";import{a as Y}from"./axios-B4uVmeYG.js";import{u as j}from"./spaceStore-D1nHVsNZ.js";import{_ as Z}from"./PageBanner-DpfxRH_T.js";import"./statusStore-DMdRar7v.js";var ee={VITE_DATA_URL:"https://json-server-vercel-cw-space.vercel.app",VITE_PATH:"cw-space-vue",BASE_URL:"/CW-space-vue/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const te=e("span",{class:"fs-6 text-danger text-end mb-2 d-block"},"請填寫表單，將會有專人聯繫您",-1),se=e("dt",{class:"form-title"},[e("label",{for:"name"},[h("姓名"),e("span",{class:"text-danger ms-2"},"*")])],-1),oe={class:"form-info"},le=e("dt",{class:"form-title"},[e("label",{for:"company"},[h("公司名稱"),e("span",{class:"text-danger ms-2"},"*")])],-1),ne={class:"form-info"},ae=e("dt",{class:"form-title"},[e("label",{for:"phone"},[h("聯絡電話"),e("span",{class:"text-danger ms-2"},"*")])],-1),ie={class:"form-info"},ce=e("dt",{class:"form-title"},[e("label",{for:"email"},[h("電子信箱"),e("span",{class:"text-danger ms-2"},"*")])],-1),de={class:"form-info"},re=e("dt",{class:"form-title"},[e("label",{for:"space"},[h("想要參觀哪個空間"),e("span",{class:"text-danger ms-2"},"*")])],-1),me={class:"form-info"},ue=e("option",{value:"",selected:"",disabled:""},"請選擇您要參觀的空間",-1),pe=e("option",{value:"共享辦公空間"},"共享辦公空間",-1),_e=e("option",{value:"獨立辦公空間"},"獨立辦公空間",-1),ve=e("option",{value:"會議室空間"},"會議室空間",-1),fe=e("dt",{class:"form-title"},[e("label",{for:"date"},[h("參觀日期"),e("span",{class:"text-danger ms-2"},"*")])],-1),he={class:"form-info"},be={class:"row"},$e={class:"col-lg-6"},ke={class:"col-lg-6 my-2 my-lg-0"},ye=e("option",{value:"",selected:"",disabled:""},"請選擇預約時段",-1),ge=e("option",{value:"09:00"},"09:00",-1),Ve=e("option",{value:"10:00"},"10:00",-1),xe=e("option",{value:"11:00"},"11:00",-1),Se=e("option",{value:"12:00"},"12:00",-1),we=e("option",{value:"13:00"},"13:00",-1),De=e("option",{value:"14:00"},"14:00",-1),Re=e("option",{value:"15:00"},"15:00",-1),Ue={class:"btn-block"},Ce=["disabled"],Pe={key:1},Te=e("h2",{class:"text-center"},"預約成功！",-1),Ee={class:"text-center mt-5"},Fe={__name:"ReserveVisit",setup(S){const{VITE_DATA_URL:v}=ee,c=k(!1),i=k(null),o=k({name:"",company:"",phone:"",email:"",space:"",appointment:null,time:""});B("isPhone",l=>/^(09)[0-9]{8}$/.test(l)||"需要正確的電話號碼");const p=async()=>{i.value=N(i.value).unix();const l={name:o.value.name,company:o.value.company,phone:o.value.phone,email:o.value.email,space:o.value.space,appointment:i.value,time:o.value.time};console.log(l);try{await Y.post(`${v}/visit`,l),c.value=!0}catch(n){console.log(n)}};return(l,n)=>{const u=V("VField"),a=V("ErrorMessage"),r=V("DatePicker"),g=V("router-link"),s=V("VForm");return c.value?(m(),f("div",Pe,[Te,e("div",Ee,[d(g,{to:"/",class:"button primary"},{default:w(()=>[h("回首頁")]),_:1})])])):(m(),P(s,{key:0,class:"visit-reservation form-list",onSubmit:p},{default:w(({errors:_,meta:R})=>[te,e("dl",null,[se,e("dd",oe,[d(u,{id:"name",type:"text",class:$(["form-control",{"is-invalid":_.name}]),name:"name",modelValue:o.value.name,"onUpdate:modelValue":n[0]||(n[0]=b=>o.value.name=b),placeholder:"請輸入姓名",rules:"required"},null,8,["class","modelValue"]),d(a,{class:"invalid-feedback",name:"name"})])]),e("dl",null,[le,e("dd",ne,[d(u,{id:"company",type:"text",class:$(["form-control",{"is-invalid":_.company}]),name:"company",modelValue:o.value.company,"onUpdate:modelValue":n[1]||(n[1]=b=>o.value.company=b),placeholder:"請輸入公司名稱",rules:"required"},null,8,["class","modelValue"]),d(a,{class:"invalid-feedback",name:"company"})])]),e("dl",null,[ae,e("dd",ie,[d(u,{id:"phone",type:"tel",class:$(["form-control",{"is-invalid":_.phone}]),name:"phone",modelValue:o.value.phone,"onUpdate:modelValue":n[2]||(n[2]=b=>o.value.phone=b),placeholder:"請輸入聯絡電話",rules:"isPhone|required"},null,8,["class","modelValue"]),d(a,{class:"invalid-feedback",name:"phone"})])]),e("dl",null,[ce,e("dd",de,[d(u,{id:"email",type:"email",class:$(["form-control",{"is-invalid":_.email}]),name:"email",modelValue:o.value.email,"onUpdate:modelValue":n[3]||(n[3]=b=>o.value.email=b),placeholder:"請輸入電子信箱",rules:"email|required"},null,8,["class","modelValue"]),d(a,{class:"invalid-feedback",name:"email"})])]),e("dl",null,[re,e("dd",me,[d(u,{id:"space",class:$(["form-select",{"is-invalid":_.space}]),name:"space",modelValue:o.value.space,"onUpdate:modelValue":n[4]||(n[4]=b=>o.value.space=b),as:"select",rules:"required"},{default:w(()=>[ue,pe,_e,ve]),_:2},1032,["class","modelValue"]),d(a,{class:"invalid-feedback",name:"space"})])]),e("dl",null,[fe,e("dd",he,[e("div",be,[e("div",$e,[d(r,{class:"date-picker w-100",value:i.value,"onUpdate:value":n[5]||(n[5]=b=>i.value=b),format:"YYYY-MM-DD",type:"date",placeholder:"請選擇日期","disabled-week-days":[6,0]},null,8,["value"])]),e("div",ke,[d(u,{id:"time",name:"time",class:$(["visit-time form-select w-100",{"is-invalid":_.time}]),modelValue:o.value.time,"onUpdate:modelValue":n[6]||(n[6]=b=>o.value.time=b),as:"select",rules:"required"},{default:w(()=>[ye,ge,Ve,xe,Se,we,De,Re]),_:2},1032,["class","modelValue"]),d(a,{class:"invalid-feedback",name:"time"})])])])]),e("div",Ue,[d(g,{to:"/",class:"button secondary",title:"回首頁"},{default:w(()=>[h("回首頁")]),_:1}),e("button",{type:"button",class:"button primary",title:"送出",onClick:p,disabled:!R.valid},"送出",8,Ce)])]),_:1}))}}};var Me={VITE_DATA_URL:"https://json-server-vercel-cw-space.vercel.app",VITE_PATH:"cw-space-vue",BASE_URL:"/CW-space-vue/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const T=H("ReserveStore",()=>{const S=L(),{VITE_DATA_URL:v}=Me,c=k(!1),i=k(0),o=k(0),p=k(""),l=k(!1),n=k(!1),u=q(()=>p.value?`您目前選擇的是：${p.value}`:"尚未選擇，請點選列表選項");I(()=>p.value,()=>{l.value=!0});const a=k({appointment:null,company:"",name:"",phone:"",email:"",plan:"",space:"",kind:"",time:""});I(()=>[a.value.plan,a.value.appointment,a.value.time,a.value.kind],([U,C,O,W])=>{U!==""&&C!==""&&O!==""&&W!==""&&(n.value=!0)});const r=()=>{i.value===3||!l.value||(i.value+=1)},g=()=>{i.value!==0&&(i.value-=1)},s=()=>{S.go(-1)},_=()=>{a.value.plan===""||a.value.appointment===""||a.value.time===""||a.value.kind===""||(i.value+=1)},R=q(()=>N(a.value.appointment).unix()),b=(U,C)=>Math.floor(Math.random()*(U-C+1)+C);return{isProcessing:c,step:i,picked:p,isPicked:l,isFilledIn:n,random:o,pickedSpace:u,reserveData:a,unixDate:R,checkedForm:_,nextStep:r,backStep:g,goBackPage:s,randomFn:b,submitReveres:async()=>{const U={appointment:a.value.appointment,company:a.value.company,name:a.value.name,phone:a.value.phone,email:a.value.email,plan:a.value.plan,space:p.value,kind:a.value.kind,time:a.value.time};o.value=b(12,0);try{await Y.post(`${v}/reserves`,U),U.value={appointment:null,company:"",name:"",phone:"",email:"",plan:"",space:"",kind:"",time:""},r()}catch(C){console.log(C)}}}}),Ae=e("dt",null,[e("span",null,[h("想要預約哪個空間"),e("span",{class:"text-danger ms-2"},"*")])],-1),qe={class:"text-end text-secondary fs-6 fw-bold mt-2"},Ie={class:"choice-space"},Be=["id","value","onClick"],Ne=["for"],Le={class:"left"},Ye={class:"space-img"},je=["src","alt"],Oe={class:"right"},We={class:"name"},He={class:"bg-text"},ze={class:"btn-block"},Ge={__name:"FirstStep",setup(S){const v=j(),{spacePlan:c}=D(v),{getSpaceList:i,changeSpaceId:o}=v,p=T(),{picked:l,isPicked:n,pickedSpace:u}=D(p),{goBackPage:a,nextStep:r}=p;return z(()=>{i()}),(g,s)=>(m(),f(y,null,[e("fieldset",null,[e("dl",null,[Ae,e("dd",qe,[e("span",Ie,x(t(u)),1)])]),(m(!0),f(y,null,F(t(c),_=>(m(),f("dl",{class:"option",key:_.id},[E(e("input",{type:"radio",name:"space",id:_.id,value:_.name,"onUpdate:modelValue":s[0]||(s[0]=R=>J(l)?l.value=R:null),onClick:R=>t(o)(_.id)},null,8,Be),[[G,t(l)]]),e("label",{for:_.id},[e("dd",null,[e("div",Le,[e("div",Ye,[e("img",{src:_.imgUrl[0],alt:_.name},null,8,je)])]),e("div",Oe,[e("div",We,x(_.name),1)]),e("div",He,x(_.enName),1)])],8,Ne)]))),128))]),e("div",ze,[e("button",{type:"button",onClick:s[1]||(s[1]=(..._)=>t(a)&&t(a)(..._)),class:"button",title:"前一頁"},"前一頁"),e("button",{type:"button",class:$(["button primary",{disabled:!t(n)}]),title:"下一步",onClick:s[2]||(s[2]=(..._)=>t(r)&&t(r)(..._))},"下一步",2)])],64))}},Je={class:"row align-items-center"},Ke=e("dt",{class:"form-title col-md-2"},[e("label",null," 目前選擇 ")],-1),Qe={class:"form-info col-md-10 mb-0"},Xe={class:"row align-items-center"},Ze=e("dt",{class:"form-title col-md-2"},[e("label",{for:"reserve-plan"},[h("預約方案"),e("span",{class:"text-danger ms-2"},"*")])],-1),et={class:"form-info col-md-10 mb-0"},tt=e("option",{value:"",selected:"",disabled:""},"請選擇",-1),st=e("option",{value:"day"},"日租",-1),ot=e("option",{value:"month"},"月租",-1),lt={key:1,value:"month"},nt={key:2,value:"day"},at={class:"row align-items-center"},it=e("dt",{class:"form-title col-md-2"},[e("label",{for:"date-picker"},[h("預約日期"),e("span",{class:"text-danger ms-2"},"*")])],-1),ct={class:"form-info col-md-10 mb-0"},dt={class:"row align-items-center"},rt=e("dt",{class:"form-title col-md-2"},[e("label",{for:"time"},[h("預約時段"),e("span",{class:"text-danger ms-2"},"*")])],-1),mt={class:"form-info col-md-10 mb-0"},ut=e("option",{disabled:"",value:""},"請選擇時段",-1),pt=e("option",{value:"08:00-18:00"},"08:00-18:00",-1),_t=K('<option disabled value="">請選擇時段</option><option value="09:00-11:00">09:00-11:00</option><option value="11:00-13:00">11:00-13:00</option><option value="13:00-15:00">13:00-15:00</option><option value="15:00-17:00">15:00-17:00</option>',5),vt={class:"row align-items-center"},ft={class:"form-title col-md-2"},ht={for:"seat"},bt={key:0},$t={key:1},kt=e("span",{class:"text-danger ms-2"},"*",-1),yt={class:"form-info col-md-10 mb-0"},gt=e("option",{disabled:"",value:""},"請選擇",-1),Vt=["value"],xt={class:"btn-block"},St={__name:"SecondStep",setup(S){const v=T(),{picked:c,reserveData:i,isFilledIn:o}=D(v),{backStep:p,checkedForm:l}=v,n=j(),{pickedType:u}=D(n);return(a,r)=>{const g=V("DatePicker");return m(),f(y,null,[e("fieldset",null,[e("dl",Je,[Ke,e("dd",Qe,x(t(c)),1)]),e("dl",Xe,[Ze,e("dd",et,[E(e("select",{name:"reserve-plan","onUpdate:modelValue":r[0]||(r[0]=s=>t(i).plan=s),id:"reserve-plan"},[tt,t(c)==="共享辦公空間"?(m(),f(y,{key:0},[st,ot],64)):A("",!0),t(c)==="獨立辦公空間"?(m(),f("option",lt,"月租")):A("",!0),t(c)==="會議室空間"?(m(),f("option",nt,"小時")):A("",!0)],512),[[M,t(i).plan]])])]),e("dl",at,[it,e("dd",ct,[d(g,{id:"date-picker",class:"date-picker",format:"YYYY-MM-DD",type:"date","value-type":"timestamp",value:t(i).appointment,"onUpdate:value":r[1]||(r[1]=s=>t(i).appointment=s),placeholder:"請選擇日期"},null,8,["value"])])]),e("dl",dt,[rt,e("dd",mt,[E(e("select",{name:"time",id:"time","onUpdate:modelValue":r[2]||(r[2]=s=>t(i).time=s)},[t(c)!=="會議室空間"?(m(),f(y,{key:0},[ut,pt],64)):(m(),f(y,{key:1},[_t],64))],512),[[M,t(i).time]])])]),e("dl",vt,[e("dt",ft,[e("label",ht,[t(c)==="共享辦公空間"?(m(),f("span",bt,"座位選擇")):(m(),f("span",$t,"空間選擇")),kt])]),e("dd",yt,[E(e("select",{name:"seat",id:"seat","onUpdate:modelValue":r[3]||(r[3]=s=>t(i).kind=s)},[gt,(m(!0),f(y,null,F(t(u),s=>(m(),f("option",{key:s,value:s.sort},x(s.sort),9,Vt))),128))],512),[[M,t(i).kind]])])])]),e("div",xt,[e("button",{type:"button",onClick:r[4]||(r[4]=(...s)=>t(p)&&t(p)(...s)),class:"button",title:"上一步"},"上一步"),e("button",{type:"button",class:$(["button primary",{disabled:!t(o)}]),title:"下一步",onClick:r[5]||(r[5]=(...s)=>t(l)&&t(l)(...s))},"下一步",2)])],64)}}},wt={class:"row align-items-center"},Dt=e("dt",{class:"form-title col-md-2"},[e("label",{for:"name"},[h("姓名"),e("span",{class:"text-danger ms-2"},"*")])],-1),Rt={class:"form-info col-md-10 mb-0"},Ut={class:"row align-items-center"},Ct=e("dt",{class:"form-title col-md-2"},[e("label",{for:"company"},[h("公司名稱"),e("span",{class:"text-danger ms-2"},"*")])],-1),Pt={class:"form-info col-md-10 mb-0"},Tt={class:"row align-items-center"},Et=e("dt",{class:"form-title col-md-2"},[e("label",{for:"phone"},[h("聯絡電話"),e("span",{class:"text-danger ms-2"},"*")])],-1),Ft={class:"form-info col-md-10 mb-0"},Mt={class:"row align-items-center"},At=e("dt",{class:"form-title col-md-2"},[e("label",{for:"email"},[h("電子信箱"),e("span",{class:"text-danger ms-2"},"*")])],-1),qt={class:"form-info col-md-10 mb-0"},It={class:"btn-block"},Bt=["disabled"],Nt={__name:"ThirdStep",setup(S){const v=T(),{reserveData:c}=D(v),{backStep:i,submitReveres:o}=v;return B("isPhone",p=>/^(09)[0-9]{8}$/.test(p)||"需要正確的電話號碼"),(p,l)=>{const n=V("VField"),u=V("ErrorMessage"),a=V("VForm");return m(),P(a,{class:"reserve-list form-list",onSubmit:t(o)},{default:w(({errors:r,meta:g})=>[e("dl",wt,[Dt,e("dd",Rt,[d(n,{id:"name",type:"text",class:$(["form-control",{"is-invalid":r.name}]),name:"name",modelValue:t(c).name,"onUpdate:modelValue":l[0]||(l[0]=s=>t(c).name=s),placeholder:"請輸入姓名",rules:"required"},null,8,["class","modelValue"]),d(u,{class:"invalid-feedback",name:"name"})])]),e("dl",Ut,[Ct,e("dd",Pt,[d(n,{id:"company",type:"text",class:$(["form-control",{"is-invalid":r.company}]),name:"company",modelValue:t(c).company,"onUpdate:modelValue":l[1]||(l[1]=s=>t(c).company=s),placeholder:"請輸入公司名稱",rules:"required"},null,8,["class","modelValue"]),d(u,{class:"invalid-feedback",name:"company"})])]),e("dl",Tt,[Et,e("dd",Ft,[d(n,{id:"phone",type:"phone",class:$(["form-control",{"is-invalid":r.phone}]),name:"phone",modelValue:t(c).phone,"onUpdate:modelValue":l[2]||(l[2]=s=>t(c).phone=s),placeholder:"請輸入聯絡電話",rules:"isPhone|required"},null,8,["class","modelValue"]),d(u,{class:"invalid-feedback",name:"phone"})])]),e("dl",Mt,[At,e("dd",qt,[d(n,{id:"email",type:"email",class:$(["form-control",{"is-invalid":r.email}]),name:"email",modelValue:t(c).email,"onUpdate:modelValue":l[3]||(l[3]=s=>t(c).email=s),placeholder:"請輸入電子信箱",rules:"email|required"},null,8,["class","modelValue"]),d(u,{class:"invalid-feedback",name:"email"})])]),e("div",It,[e("button",{type:"button",onClick:l[4]||(l[4]=(...s)=>t(i)&&t(i)(...s)),class:"button",title:"上一步"},"上一步"),e("button",{type:"button",class:$(["button primary",{disabled:!g.valid}]),title:"送出",onClick:l[5]||(l[5]=(...s)=>t(o)&&t(o)(...s)),disabled:!g.valid},"送出",10,Bt)])]),_:1},8,["onSubmit"])}}},Lt={class:"reserve-list service-finish"},Yt=e("h2",null,"預約成功",-1),jt={class:"text-danger fw-bold"},Ot=e("p",null,"請確認您的電子郵件，牢記您的訂單編號。",-1),Wt=e("p",null,[h("請您於"),e("span",{class:"text-danger fw-bold"},"7個工作天"),h("內匯款，收到款項後，完成預約")],-1),Ht=e("p",null,"匯款資訊 013國泰世華 1234-5678-4321-0018",-1),zt=e("p",null,"匯款後，請您來電告知帳戶後末四碼，以及訂單資料，才算完成預約手續。",-1),Gt=e("h6",{class:"mt-4 text-danger fw-bold text-center"},"五秒後，將自動跳轉回預約頁",-1),Jt={class:"btn-block"},Kt={__name:"FourthStep",setup(S){const v=L(),c=T(),{unixDate:i,random:o,step:p}=D(c);return setTimeout(()=>{p.value=0,v.go(0)},5e3),(l,n)=>{const u=V("router-link");return m(),f(y,null,[e("div",Lt,[Yt,e("p",null,[h("訂單編號 "),e("span",jt,"CW"+x(t(i))+"-"+x(t(o)),1)]),Ot,Wt,Ht,zt]),Gt,e("div",Jt,[d(u,{to:"/",class:"button primary",title:"回首頁"},{default:w(()=>[h("回首頁")]),_:1})])],64)}}},Qt={class:"reserve-step"},Xt={class:"circle"},Zt={class:"text"},es={class:"reserve-list"},ts={__name:"ReserveSpace",setup(S){const v=T(),{step:c}=D(v),i=["選擇空間","選擇時段/座位","填寫資料","預約完成"],o=Q([{name:"first",component:Ge},{name:"second",component:St},{name:"third",component:Nt},{name:"fourth",component:Kt}]),p=q(()=>o.value[c.value]);return(l,n)=>(m(),f(y,null,[e("ul",Qt,[(m(),f(y,null,F(i,(u,a)=>e("li",{class:$(["step",{active:a===t(c)}]),key:u},[e("div",Xt,x(a+1),1),e("div",Zt,x(u),1)],2)),64))]),e("div",es,[(m(),P(X(p.value.component)))])],64))}},ss="/CW-space-vue/assets/visit-banner-Bj85rV6T.jpg",os={class:"container block mt-5"},ls={class:"space-tabs"},ns=["onClick"],us={__name:"ReservePage",setup(S){const v=k(0),c=k(["預約參觀","預約空間"]),i=o=>{v.value=o};return(o,p)=>(m(),f(y,null,[d(Z,{"images-url":t(ss),"page-title":c.value[v.value]},null,8,["images-url","page-title"]),e("div",os,[e("div",ls,[(m(!0),f(y,null,F(c.value,(l,n)=>(m(),f("div",{key:l,class:$(["space-tab-item",{active:n===v.value}]),onClick:u=>i(n)},x(l),11,ns))),128))]),v.value===0?(m(),P(Fe,{key:0})):(m(),P(ts,{key:1}))])],64))}};export{us as default};
