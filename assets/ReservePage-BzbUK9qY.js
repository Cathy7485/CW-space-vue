import{e as h,A as j,r as y,o,p as A,w as U,b as e,a as t,n as p,d,c,B as O,j as K,s as Q,f as X,F as _,g as M,t as b,l as S,C as Z,u as P,h as D,D as Y,E as ee,m as se}from"./index-DEYzUSn7.js";import{a as W}from"./axios-B4uVmeYG.js";import{u as te}from"./spaceStore-DRNNxcCY.js";import{_ as oe}from"./PageBanner-BzGgoLgA.js";import"./statusStore-DX4yJEH9.js";var le={VITE_DATA_URL:"https://json-server-vercel-cw-space.vercel.app",VITE_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"cw-space-vue",BASE_URL:"/CW-space-vue/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const ae=e("span",{class:"fs-6 text-danger text-end mb-2 d-block"},"請填寫表單，將會有專人聯繫您",-1),ne=e("dt",{class:"form-title"},[e("label",{for:"name"},[d("姓名"),e("span",{class:"text-danger ms-2"},"*")])],-1),ie={class:"form-info"},ce=e("dt",{class:"form-title"},[e("label",{for:"company"},[d("公司名稱"),e("span",{class:"text-danger ms-2"},"*")])],-1),de={class:"form-info"},re=e("dt",{class:"form-title"},[e("label",{for:"phone"},[d("聯絡電話"),e("span",{class:"text-danger ms-2"},"*")])],-1),me={class:"form-info"},ue=e("dt",{class:"form-title"},[e("label",{for:"email"},[d("電子信箱"),e("span",{class:"text-danger ms-2"},"*")])],-1),_e={class:"form-info"},pe=e("dt",{class:"form-title"},[e("label",{for:"space"},[d("想要參觀哪個空間"),e("span",{class:"text-danger ms-2"},"*")])],-1),ve={class:"form-info"},he=e("option",{value:"",selected:"",disabled:""},"請選擇您要參觀的空間",-1),fe=e("option",{value:"共享辦公空間"},"共享辦公空間",-1),be=e("option",{value:"獨立辦公空間"},"獨立辦公空間",-1),ye=e("option",{value:"會議室空間"},"會議室空間",-1),ke=e("dt",{class:"form-title"},[e("label",{for:"date"},[d("參觀日期"),e("span",{class:"text-danger ms-2"},"*")])],-1),ge={class:"form-info"},Ve={class:"row"},$e={class:"col-lg-6"},xe={class:"col-lg-6 my-2 my-lg-0"},De=e("option",{value:"",selected:"",disabled:""},"請選擇預約時段",-1),Ue=e("option",{value:"09:00"},"09:00",-1),we=e("option",{value:"10:00"},"10:00",-1),Te=e("option",{value:"11:00"},"11:00",-1),Ce=e("option",{value:"12:00"},"12:00",-1),Ee=e("option",{value:"13:00"},"13:00",-1),Re=e("option",{value:"14:00"},"14:00",-1),Se=e("option",{value:"15:00"},"15:00",-1),Me={class:"btn-block"},Pe=["disabled"],Ae={key:1},Fe=e("h2",{class:"text-center"},"預約成功！",-1),Ie={class:"text-center mt-5"},Ne={__name:"ReserveVisit",setup(N){const{VITE_DATA_URL:g}=le,V=h(!1),m=h(null),l=h({name:"",company:"",phone:"",email:"",space:"",appointment:null,time:""});j("isPhone",f=>/^(09)[0-9]{8}$/.test(f)||"需要正確的電話號碼");const n=async()=>{m.value=O(m.value).unix();const f={name:l.value.name,company:l.value.company,phone:l.value.phone,email:l.value.email,space:l.value.space,appointment:m.value,time:l.value.time};console.log(f);try{await W.post(`${g}/visit`,f),V.value=!0}catch(a){console.log(a)}};return(f,a)=>{const k=y("VField"),$=y("ErrorMessage"),F=y("DatePicker"),E=y("router-link"),v=y("VForm");return V.value?(o(),c("div",Ae,[Fe,e("div",Ie,[t(E,{to:"/",class:"button primary"},{default:U(()=>[d("回首頁")]),_:1})])])):(o(),A(v,{key:0,class:"visit-reservation form-list",onSubmit:n},{default:U(({errors:x,meta:u})=>[ae,e("dl",null,[ne,e("dd",ie,[t(k,{id:"name",type:"text",class:p(["form-control",{"is-invalid":x.name}]),name:"name",modelValue:l.value.name,"onUpdate:modelValue":a[0]||(a[0]=r=>l.value.name=r),placeholder:"請輸入姓名",rules:"required"},null,8,["class","modelValue"]),t($,{class:"invalid-feedback",name:"name"})])]),e("dl",null,[ce,e("dd",de,[t(k,{id:"company",type:"text",class:p(["form-control",{"is-invalid":x.company}]),name:"company",modelValue:l.value.company,"onUpdate:modelValue":a[1]||(a[1]=r=>l.value.company=r),placeholder:"請輸入公司名稱",rules:"required"},null,8,["class","modelValue"]),t($,{class:"invalid-feedback",name:"company"})])]),e("dl",null,[re,e("dd",me,[t(k,{id:"phone",type:"tel",class:p(["form-control",{"is-invalid":x.phone}]),name:"phone",modelValue:l.value.phone,"onUpdate:modelValue":a[2]||(a[2]=r=>l.value.phone=r),placeholder:"請輸入聯絡電話",rules:"isPhone|required"},null,8,["class","modelValue"]),t($,{class:"invalid-feedback",name:"phone"})])]),e("dl",null,[ue,e("dd",_e,[t(k,{id:"email",type:"email",class:p(["form-control",{"is-invalid":x.email}]),name:"email",modelValue:l.value.email,"onUpdate:modelValue":a[3]||(a[3]=r=>l.value.email=r),placeholder:"請輸入電子信箱",rules:"email|required"},null,8,["class","modelValue"]),t($,{class:"invalid-feedback",name:"email"})])]),e("dl",null,[pe,e("dd",ve,[t(k,{id:"space",class:p(["form-select",{"is-invalid":x.space}]),name:"space",modelValue:l.value.space,"onUpdate:modelValue":a[4]||(a[4]=r=>l.value.space=r),as:"select",rules:"required"},{default:U(()=>[he,fe,be,ye]),_:2},1032,["class","modelValue"]),t($,{class:"invalid-feedback",name:"space"})])]),e("dl",null,[ke,e("dd",ge,[e("div",Ve,[e("div",$e,[t(F,{class:"date-picker w-100",value:m.value,"onUpdate:value":a[5]||(a[5]=r=>m.value=r),format:"YYYY-MM-DD",type:"date",placeholder:"請選擇日期"},null,8,["value"])]),e("div",xe,[t(k,{id:"time",name:"time",class:p(["visit-time form-select w-100",{"is-invalid":x.time}]),modelValue:l.value.time,"onUpdate:modelValue":a[6]||(a[6]=r=>l.value.time=r),as:"select",rules:"required"},{default:U(()=>[De,Ue,we,Te,Ce,Ee,Re,Se]),_:2},1032,["class","modelValue"]),t($,{class:"invalid-feedback",name:"time"})])])])]),e("div",Me,[t(E,{to:"/",class:"button secondary",title:"回首頁"},{default:U(()=>[d("回首頁")]),_:1}),e("button",{type:"button",class:"button primary",title:"送出",onClick:n,disabled:!u.valid},"送出",8,Pe)])]),_:1}))}}};var qe={VITE_DATA_URL:"https://json-server-vercel-cw-space.vercel.app",VITE_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"cw-space-vue",BASE_URL:"/CW-space-vue/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Be={class:"reserve-step"},Le={class:"circle"},Ye={class:"text"},je={key:0,class:"reserve-list"},Oe=e("dt",null,[e("span",{class:""},[d("想要預約哪個空間"),e("span",{class:"text-danger ms-2"},"*")])],-1),We={class:"text-end text-secondary fs-6 fw-bold mt-2"},He={class:"choice-space"},ze=["id","value","onClick"],Ge=["for"],Je={class:"left"},Ke={class:"space-img"},Qe=["src","alt"],Xe={class:"right"},Ze={class:"name"},es={class:"bg-text"},ss={class:"btn-block"},ts={class:"reserve-list form-list"},os={class:"row align-items-center"},ls=e("dt",{class:"form-title col-md-2"},[e("label",null," 目前選擇 ")],-1),as={class:"form-info col-md-10 mb-0"},ns={class:"row align-items-center"},is=e("dt",{class:"form-title col-md-2"},[e("label",{for:"user-name"},[d("預約方案"),e("span",{class:"text-danger ms-2"},"*")])],-1),cs={class:"form-info col-md-10 mb-0"},ds=e("option",{value:"",selected:"",disabled:""},"請選擇",-1),rs=e("option",{value:"day"},"日租",-1),ms=e("option",{value:"month"},"月租",-1),us={key:1,value:"month"},_s={key:2,value:"day"},ps={class:"row align-items-center"},vs=e("dt",{class:"form-title col-md-2"},[e("label",{for:"user-name"},[d("預約日期"),e("span",{class:"text-danger ms-2"},"*")])],-1),hs={class:"form-info col-md-10 mb-0"},fs={class:"row align-items-center"},bs=e("dt",{class:"form-title col-md-2"},[e("label",{for:"user-name"},"預約時段")],-1),ys={class:"form-info col-md-10 mb-0"},ks=e("option",{disabled:"",value:""},"請選擇時段",-1),gs=e("option",{value:"08:00-18:00"},"08:00-18:00",-1),Vs=se('<option disabled value="">請選擇時段</option><option value="09:00-11:00">09:00-11:00</option><option value="11:00-13:00">11:00-13:00</option><option value="13:00-15:00">13:00-15:00</option><option value="15:00-17:00">15:00-17:00</option>',5),$s={class:"row align-items-center"},xs={class:"form-title col-md-2"},Ds={for:"seat"},Us={key:0},ws={key:1},Ts=e("span",{class:"text-danger ms-2"},"*",-1),Cs={class:"form-info col-md-10 mb-0"},Es={name:"seat",id:"seat"},Rs=["value"],Ss={class:"row align-items-center"},Ms=e("dt",{class:"form-title col-md-2"},[e("label",{for:"name"},[d("姓名"),e("span",{class:"text-danger ms-2"},"*")])],-1),Ps={class:"form-info col-md-10 mb-0"},As={class:"row align-items-center"},Fs=e("dt",{class:"form-title col-md-2"},[e("label",{for:"name"},[d("公司名稱"),e("span",{class:"text-danger ms-2"},"*")])],-1),Is={class:"form-info col-md-10 mb-0"},Ns={class:"row align-items-center"},qs=e("dt",{class:"form-title col-md-2"},[e("label",{for:"phone"},[d("聯絡電話"),e("span",{class:"text-danger ms-2"},"*")])],-1),Bs={class:"form-info col-md-10 mb-0"},Ls={class:"row align-items-center"},Ys=e("dt",{class:"form-title col-md-2"},[e("label",{for:"email"},[d("電子信箱"),e("span",{class:"text-danger ms-2"},"*")])],-1),js={class:"form-info col-md-10 mb-0"},Os={class:"btn-block"},Ws=["disabled"],Hs={class:"reserve-list service-finish"},zs=e("h2",null,"預約成功",-1),Gs={class:"text-danger fw-bold"},Js=e("p",null,"請確認您的電子郵件，牢記您的訂單編號。",-1),Ks=e("p",null,[d("請您於"),e("span",{class:"text-danger fw-bold"},"7個工作天"),d("內匯款，收到款項後，完成預約")],-1),Qs=e("p",null,"匯款資訊 013國泰世華 1234-5678-4321-0018",-1),Xs=e("p",null,"匯款後，請您來電告知帳戶後末四碼，以及訂單資料，才算完成預約手續。",-1),Zs={class:"btn-block"},et={__name:"ReserveSpace",setup(N){const{VITE_DATA_URL:g}=qe,V=h(!1),m=h(null),l=h(0),n=h({appointment:null,company:"",name:"",phone:"",email:"",plan:"",space:"",time:""});j("isPhone",w=>/^(09)[0-9]{8}$/.test(w)||"需要正確的電話號碼");const f=K(),a=te(),{spacePlan:k,pickedType:$}=Q(a),{getSpaceList:F,changeSpaceId:E}=a,v=h(1),x=["選擇空間","選擇時段/座位","填寫資料","預約完成"],u=h("共享辦公空間"),r=()=>{v.value!==4&&(v.value+=1)},q=()=>{v.value!==1&&(v.value-=1)},H=()=>{f.go(-1)},z=(w,i)=>Math.floor(Math.random()*(w-i+1)+i),B=async()=>{m.value=O(m.value).unix(),l.value=z(12,0);const w={appointment:m.value,company:n.value.company,name:n.value.name,phone:n.value.phone,email:n.value.email,plan:n.value.plan,space:u.value,time:n.value.time};console.log(w);try{await W.post(`${g}/reserves`,w),V.value=!0,r()}catch(i){console.log(i)}};return X(()=>{F()}),(w,i)=>{const L=y("router-link"),G=y("DatePicker"),I=y("VField"),R=y("ErrorMessage"),J=y("VForm");return o(),c(_,null,[e("ul",Be,[(o(),c(_,null,M(x,(s,T)=>e("li",{class:p(["step",{active:T+1===v.value}]),key:s},[e("div",Le,b(T+1),1),e("div",Ye,b(s),1)],2)),64))]),v.value===1?(o(),c("div",je,[e("fieldset",null,[e("dl",null,[Oe,e("dd",We,[e("span",He,"您目前選擇的是："+b(u.value),1)])]),(o(!0),c(_,null,M(P(k),s=>(o(),c("dl",{class:"option",key:s.id},[S(e("input",{type:"radio",name:"space",id:s.id,value:s.name,"onUpdate:modelValue":i[0]||(i[0]=T=>u.value=T),onClick:T=>P(E)(s.id)},null,8,ze),[[Z,u.value]]),e("label",{for:s.id},[e("dd",null,[e("div",Je,[e("div",Ke,[e("img",{src:s.imgUrl[0],alt:s.name},null,8,Qe)])]),e("div",Xe,[e("div",Ze,b(s.name),1)]),e("div",es,b(s.enName),1)])],8,Ge)]))),128))]),e("div",ss,[t(L,{to:"/",onClick:H,class:"button",title:"回首頁"},{default:U(()=>[d("回首頁")]),_:1}),e("button",{type:"button",onClick:r,class:"button primary",title:"下一步"},"下一步")])])):D("",!0),v.value===2?(o(),c(_,{key:1},[e("div",ts,[e("fieldset",null,[e("dl",os,[ls,e("dd",as,b(u.value),1)]),e("dl",ns,[is,e("dd",cs,[S(e("select",{name:"reserve-plan","onUpdate:modelValue":i[1]||(i[1]=s=>n.value.plan=s),id:"reserve-plan"},[ds,u.value==="共享辦公空間"?(o(),c(_,{key:0},[rs,ms],64)):D("",!0),u.value==="獨立辦公空間"?(o(),c("option",us,"月租")):D("",!0),u.value==="會議室空間"?(o(),c("option",_s,"小時")):D("",!0)],512),[[Y,n.value.plan]])])]),e("dl",ps,[vs,e("dd",hs,[t(G,{class:"date-picker",format:"YYYY-MM-DD",type:"date","value-type":"timestamp",value:m.value,"onUpdate:value":i[2]||(i[2]=s=>m.value=s),placeholder:"請選擇日期"},null,8,["value"])])]),e("dl",fs,[bs,e("dd",ys,[S(e("select",{name:"time",id:"time","onUpdate:modelValue":i[3]||(i[3]=s=>n.value.time=s)},[u.value!=="會議室空間"?(o(),c(_,{key:0},[ks,gs],64)):(o(),c(_,{key:1},[Vs],64))],512),[[Y,n.value.time]])])]),e("dl",$s,[e("dt",xs,[e("label",Ds,[u.value==="共享辦公空間"?(o(),c("span",Us,"座位選擇")):(o(),c("span",ws,"空間選擇")),Ts])]),e("dd",Cs,[e("select",Es,[(o(!0),c(_,null,M(P($),s=>(o(),c("option",{key:s,value:s.sort},b(s.sort),9,Rs))),128))])])])])]),e("div",{class:"btn-block"},[e("button",{type:"button",onClick:q,class:"button",title:"回上一步"},"回上一步"),e("button",{type:"button",onClick:r,class:"button primary",title:"下一步"},"下一步")])],64)):D("",!0),e("div",null,[v.value===3?(o(),c(_,{key:0},[V.value?D("",!0):(o(),A(J,{key:0,class:"reserve-list form-list",onSubmit:B},{default:U(({errors:s,meta:T})=>[e("dl",Ss,[Ms,e("dd",Ps,[t(I,{id:"name",type:"text",class:p(["form-control",{"is-invalid":s.name}]),name:"name",modelValue:n.value.name,"onUpdate:modelValue":i[4]||(i[4]=C=>n.value.name=C),placeholder:"請輸入姓名",rules:"required"},null,8,["class","modelValue"]),t(R,{class:"invalid-feedback",name:"name"})])]),e("dl",As,[Fs,e("dd",Is,[t(I,{id:"company",type:"text",class:p(["form-control",{"is-invalid":s.company}]),name:"company",modelValue:n.value.company,"onUpdate:modelValue":i[5]||(i[5]=C=>n.value.company=C),placeholder:"請輸入公司名稱",rules:"required"},null,8,["class","modelValue"]),t(R,{class:"invalid-feedback",name:"company"})])]),e("dl",Ns,[qs,e("dd",Bs,[t(I,{id:"phone",type:"phone",class:p(["form-control",{"is-invalid":s.phone}]),name:"phone",modelValue:n.value.phone,"onUpdate:modelValue":i[6]||(i[6]=C=>n.value.phone=C),placeholder:"請輸入聯絡電話",rules:"isPhone|required"},null,8,["class","modelValue"]),t(R,{class:"invalid-feedback",name:"phone"})])]),e("dl",Ls,[Ys,e("dd",js,[S(e("input",{id:"email",type:"email",class:p(["form-control",{"is-invalid":s.email}]),name:"email","onUpdate:modelValue":i[7]||(i[7]=C=>n.value.email=C),placeholder:"請輸入電子信箱",rules:"email|required"},null,2),[[ee,n.value.email]]),t(R,{class:"invalid-feedback",name:"email"})])]),e("div",Os,[e("button",{type:"button",onClick:q,class:"button",title:"回上一步"},"回上一步"),e("button",{type:"button",class:"button primary",title:"送出",onClick:B,disabled:!T.valid},"送出",8,Ws)])]),_:1}))],64)):D("",!0),v.value===4?(o(),c(_,{key:1},[e("div",Hs,[zs,e("p",null,[d("訂單編號 "),e("span",Gs,"CW"+b(m.value)+"-"+b(l.value),1)]),Js,Ks,Qs,Xs]),e("div",Zs,[t(L,{to:"/",class:"button primary",title:"回首頁"},{default:U(()=>[d("回首頁")]),_:1})])],64)):D("",!0)])],64)}}},st="/CW-space-vue/assets/visit-banner-Bj85rV6T.jpg",tt={class:"container block mt-5"},ot={class:"space-tabs"},lt=["onClick"],rt={__name:"ReservePage",setup(N){const g=h(0),V=h(["預約參觀","預約空間"]),m=l=>{g.value=l};return(l,n)=>(o(),c(_,null,[t(oe,{"images-url":P(st),"page-title":V.value[g.value]},null,8,["images-url","page-title"]),e("div",tt,[e("div",ot,[(o(!0),c(_,null,M(V.value,(f,a)=>(o(),c("div",{key:f,class:p(["space-tab-item",{active:a===g.value}]),onClick:k=>m(a)},b(f),11,lt))),128))]),g.value===0?(o(),A(Ne,{key:0})):(o(),A(et,{key:1}))])],64))}};export{rt as default};
